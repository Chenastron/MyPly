### 目录
1. 项目结构介绍
2. 自定义异常介绍
3. 执行类的类属性介绍
4. 执行类实例的属性介绍


### 1. 项目结构

```
myYacc
  - dexecute.py
```
1. 就一个类提供执行

### 2. 自定义异常介绍
1. 类名MyVarException
2. 当执行过程中出现异常 则raise这个异常, 外界接手后可以捕捉到其中的异常信息
3. 目前提供三种异常
3.1 变量不存在的时候去调用
3.2 变量不是函数去调用
3.3 调用函数时参数不匹配

### 3. 执行类的类属性
- res_string 
1. 存放了正确执行的结果

- errors 
1. 存放了报错信息

- var_context
1. 存放了所有作用域中所有的变量信息
```
var_context = {
        'global': {
            'parent_field_name': None,
            'var': {
                'value': 'a'
                'type': 'var'   
            }
        },
        'field-a': {
            'parent_field_name'L: 'global',
            'var': {
                'value': [stmt1, stmt2],
                'type': 'func',
                'func_params': [p1, p2]
            }
        }
    }
````
1. 第一层是作用域
2. 第二层包括了父作用域的名字, 该作用域下的变量
3. 变量有两种var和func， 都分别有不同的信息

- cur_field
1. 标识了当前的运行的作用域

- field_name_index
1. 每次新生成一个作用域就要将这个值+1， 保证作用域名字不相同

- getFieldName()
1. 生成一个新的作用域名

- isDyqExecuteObj()
1. 判断是否是本类的实例

- resolve()
1. 如果是本类的实例则调用execute方法
2. 如果不是本类的实例则直接返回传入的值

- _add_change_field()
1. 创建一个新的作用域
2. 切换作用域

### 4. 执行类实例属性介绍
- action
1. 记录了这个实例需要如何执行

- params
1. 记录了这个实例执行时需要的参数

- execute()
1. 调用action中对应的方法

- _binop()
1. 二元运算
2. 根据三个参数左表达式, 二元运算符, 右表达式得到相应结果

- _logop()
1. 逻辑运算
2. 参数为一个栈， 栈中有表达式和逻辑运算符
3. 出栈进行执行

- _print()
1. 参数为列表， 每一项都是可执行的实例或者直接是值
2. 遍历列表执行每一个值 分别加入类实例的res_string中

- _resolve_save_var()
1. 存储变量的问题
2. 获取作用域(外界传入的参数)
3. 将变量值存储
4. 根据是否是函数(is_func的参数)来存储type
5. 如果有参数在存储参数


- _get()
1. 判断是否有参数var如果有就获取这个var对应的值否则则获取params中的变量
2. 先在当前的作用域进行搜索, 如果没有则搜索父作用域
3. 如果都没有并且参数rasie_error为true则报错， 如果为false则什么都不做
4. 如果找到了, 如果是函数则返回变量的dict(需要一些别的参数), 如果是变量则直接返回值

- _assign()
1.  获取被赋值变量名， 和赋值的表达式
2. 如果表达式是变量， 获得该变量对应的信息， 再根据是否为函数变量，赋值相应的值
3. 如果不是变量则执行表达式
4. 根据变量名， 执行结果赋值

- _triple_assign()
1. 三元表达式赋值
2. 多一部判断逻辑表达式

- _assign_func()
1. 根据是否有参数分为两种情况存入变量

- _resolve_block()
1. 执行代码块的操作
2. 首先先创建新环境
3. 存入传入的变量(例如函数, for循环)
4. 执行所有实例
5. 执行结束后恢复环境(父环境)

- _exe_func()
1. 判断是否为变量，不是就报错
2. 获取函数定义时存储的代码块
3. 如果没有参数则执行
4. 如果有参数则判断参数个数是否相同， 不同则报错
5. 将参数一并传入执行

- _loop()
1. 将每次遍历时用到的参数传入执行函数一并执行

- condition()
1. 判断逻辑语句是否正确
2. 如果true则执行对应的语句块
3. 如果参数为3(也就是有else的语句块)并且逻辑语句为false则执行这部分的语句块